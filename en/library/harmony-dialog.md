# harmony-dialog(API12+)

## üèÜIntroduction and Recommendations

[harmony-dialog](https://ohpm.openharmony.cn/#/cn/detail/@pura%2Fharmony-dialog)
An extremely simple and easy-to-use zero-invasion pop-up window, which can be easily implemented with just one line of code, and can be easily popped up no matter where you are. It covers
AlertDialog, TipsDialog, ConfirmDialog, SelectDialog, CustomContentDialog, TextInputDialog, TextAreaDialog, BottomSheetDialog, ActionSheetDialog, TextPickerDialog, DatePickerDialog, CustomDialog, BindSheet, LoadingDialog, LoadingProgress, Toast, ToastTip
Various types can meet various pop-up development needs.

[harmony-utils](https://ohpm.openharmony.cn/#/cn/detail/@pura%2Fharmony-utils)
A HarmonyOS tool library with rich features and extremely easy to use, with the help of many practical tools, is committed to helping developers quickly build Hongmeng applications.


## üåûDownload and install

`ohpm i @pura/harmony-dialog`

OpenHarmony ohpm
For more information, please refer to[Â¶Ç‰ΩïÂÆâË£Ö OpenHarmony ohpm ÂåÖ](https://ohpm.openharmony.cn/#/cn/help/downloadandinstall)
<br>

## üìöAPI detailed explanation[È¢ÑËßàÊïàÊûú](https://blog.csdn.net/qq_32922545/article/details/144492075)üåû

| DialogHelper Method | Introduction |
|:------------------------|:------------------------------------------------------------------------------------------------------------------|
| setDefaultConfig | Set default uniform style |
| showAlertDialog | Display operation confirmation class pop-up box |
| showConfirmDialog | Display information confirmation class pop-up box |
| showTipsDialog | The display prompt pop-up box is a confirmation box with graphics |
| showSelectDialog | Show Select class pop-up box |
| showTextInputDialog | Show single line text input pop-up box |
| showTextAreaDialog | Show multi-line text input box |
| showCustomContentDialog | Display the pop-up box of the custom content area, and supports defining the button style of the operation area |
| showBottomSheetDialog | Show action panel |
| showActionSheetDialog | Show Action Panel (IOS Style) |
| showTextPickerDialog | Display selector pop-up box; refer to the TextPicker component; cooperate[china_area](https://ohpm.openharmony.cn/#/cn/detail/@nutpi%2Fchina_area)Data selection of provinces, cities and counties in China can be made. |
| showDatePickerDialog | Show date selector pop-up box, in conjunction[harmony-utils](https://ohpm.openharmony.cn/#/cn/detail/@pura%2Fharmony-utils)The DateUtil tool class uses, formats the date.   |
| showCustomDialog | Show custom popups |
| update | Refresh custom pop-ups |
| isShowing | Is the current pop-up window displayed |
| closeDialog | Close pop-up box |
| showLoadingDialog | Show loading class pop-up box |
| showLoadingProgress | Show progress bar loading box |
| updateLoading | Refresh loading box |
| showBindSheet | Show custom semi-modal |
| updateBindSheet | Refresh custom semi-modal |
| closeBindSheet | Show toast with graphics |
| showToast | Show Toast |
| showToastLong | Show long toast |
| showToastShort | Show short toast |
| showToastTip | Show toast with graphics |
| generateId | GenerateBox ID |

<br/>

| AnimationHelper Method | Introduction |
|:------------------|:----------|
| transitionInUp | InUp animation |
| transitionInDown | InDown Animation |
| transitionInLeft | InLeft Animation |
| transitionInRight | InRight Animation |


## üìöSample code[‰ΩøÁî®Ê°à‰æã](https://gitee.com/tongyuyan/harmony-utils/blob/master/entry/src/main/ets/pages/index/DialogPage.ets)

```
    //ÁÆÄÂçïÂàùÂßãÂåñÔºà1.0.8ÁâàÊú¨Âèä‰ª•ÂêéÔºâ
    //ÂøÖÈ°ªÂú®UIAbilityÁöÑonCreateÊñπÊ≥ïÈáåÂàùÂßãÂåñcontext„ÄÇ
    DialogHelper.setDefaultConfig((config) => {
      config.uiAbilityContext = this.context;
    })
    
    //ËÆæÁΩÆÈªòËÆ§ÁöÑÁªü‰∏ÄÈÖçÁΩÆÔºåÂú®UIAbilityÁöÑonCreateÊñπÊ≥ïÈáåÂàùÂßãÂåñ
    DialogHelper.setDefaultConfig((config) => {
      config.uiAbilityContext = this.context  //ÂøÖÈ°ªÂàùÂßãÂåñ‰∏ä‰∏ãÊñá
      config.autoCancel = true; //ÁÇπÂáªÈÅÆÈöúÂ±ÇÊó∂ÔºåÊòØÂê¶ÂÖ≥Èó≠ÂºπÁ™óÔºåtrueË°®Á§∫ÂÖ≥Èó≠ÂºπÁ™ó„ÄÇfalseË°®Á§∫‰∏çÂÖ≥Èó≠ÂºπÁ™ó„ÄÇÈªòËÆ§ÂÄºÔºötrue
      config.backCancel = true; //ÁÇπÂáªËøîÂõûÈîÆÊàñÊâãÂäøËøîÂõûÊó∂ÔºåÊòØÂê¶ÂÖ≥Èó≠ÂºπÁ™óÔºõÂÆûÁé∞onWillDismissÂáΩÊï∞Êó∂ÔºåËØ•ÂèÇÊï∞‰∏çËµ∑‰ΩúÁî®„ÄÇtrueË°®Á§∫ÂÖ≥Èó≠ÂºπÁ™ó„ÄÇfalseË°®Á§∫‰∏çÂÖ≥Èó≠ÂºπÁ™ó„ÄÇÈªòËÆ§ÂÄºÔºötrue„ÄÇ
      config.actionCancel = true; //ÁÇπÂáªÊìç‰ΩúÊåâÈíÆÊó∂ÔºåÊòØÂê¶ÂÖ≥Èó≠ÂºπÁ™ó„ÄÇfalseË°®Á§∫‰∏çÂÖ≥Èó≠ÂºπÁ™ó„ÄÇÈªòËÆ§ÂÄºÔºötrue„ÄÇ
      config.alignment = DialogAlignment.Center; //ÂºπÁ™óÁöÑÂØπÈΩêÊñπÂºè„ÄÇ
      config.offset = { dx: 0, dy: 0 }; //ÂºπÁ™óÁõ∏ÂØπalignmentÊâÄÂú®‰ΩçÁΩÆÁöÑÂÅèÁßªÈáè„ÄÇÈªòËÆ§ÂÄºÔºö{ dx: 0, dy: 0 }
      config.maskColor = 0x33000000; //Ëá™ÂÆö‰πâËíôÂ±ÇÈ¢úËâ≤„ÄÇÈªòËÆ§ÂÄº 0x33000000
      config.backgroundColor = Color.White; //ÂºπÁ™óËÉåÊùøÈ¢úËâ≤„ÄÇÈªòËÆ§ÂÄºÔºöColor.White
      config.backgroundBlurStyle = BlurStyle.COMPONENT_ULTRA_THICK; //ÂºπÁ™óËÉåÊùøÊ®°Á≥äÊùêË¥®„ÄÇÈªòËÆ§ÂÄºÔºöBlurStyle.COMPONENT_ULTRA_THICK
      config.cornerRadius = 20; //ËÆæÁΩÆËÉåÊùøÁöÑÂúÜËßíÂçäÂæÑ„ÄÇÂèØÂàÜÂà´ËÆæÁΩÆ4‰∏™ÂúÜËßíÁöÑÂçäÂæÑ„ÄÇ

      config.title = 'Ê∏©È¶®ÊèêÁ§∫'; //ÂºπÊ°ÜÊ†áÈ¢ò
      config.primaryButton = 'ÂèñÊ∂à'; //ÂºπÊ°ÜÂ∑¶‰æßÊåâÈíÆ„ÄÇ
      config.secondaryButton = 'Á°ÆÂÆö'; //ÂºπÊ°ÜÂè≥‰æßÊåâÈíÆ„ÄÇ
      config.imageRes = undefined; //TipsDialogÁî®Âà∞ÔºåÂ±ïÁ§∫ÁöÑÂõæÁâá„ÄÇ
      config.imageSize = { width: '64vp', height: '64vp' }; //TipsDialogÁî®Âà∞ÔºåËá™ÂÆö‰πâÂõæÁâáÂ∞∫ÂØ∏„ÄÇÈªòËÆ§ÂÄºÔºö64*64vp

      config.loading_loadSize = 60; //Âä†ËΩΩÂä®ÁîªÊàñËøõÂ∫¶Êù°ÁöÑÂ§ßÂ∞è
      config.loading_loadColor = Color.White; //Âä†ËΩΩÂä®ÁîªÊàñËøõÂ∫¶Êù°ÁöÑÈ¢úËâ≤
      config.loading_content = ''; //Âä†ËΩΩÂä®ÁîªÁöÑÊèêÁ§∫ÊñáÂ≠ó
      config.loading_fontSize = 16; //ÊñáÂ≠óÂ§ßÂ∞è
      config.loading_fontColor = Color.White; //ÊñáÂ≠óÈ¢úËâ≤
      config.loading_backgroundColor = '#CC000000'; //ËÉåÊôØÈ¢úËâ≤ÔºåÂÖ´‰ΩçËâ≤ÂÄºÂâç‰∏§‰Ωç‰∏∫ÈÄèÊòéÂ∫¶
      config.loading_borderRadius = 10; //ËÉåÊôØÂúÜËßí
      
      config.picker_textStyle = ; //ËÆæÁΩÆÊâÄÊúâÈÄâÈ°π‰∏≠Èô§‰∫ÜÊúÄ‰∏ä„ÄÅÊúÄ‰∏ãÂèäÈÄâ‰∏≠È°π‰ª•Â§ñÁöÑÊñáÊú¨È¢úËâ≤„ÄÅÂ≠óÂè∑„ÄÅÂ≠ó‰ΩìÁ≤óÁªÜ„ÄÇ
      config.picker_selectedTextStylee = ; //ËÆæÁΩÆÈÄâ‰∏≠È°πÁöÑÊñáÊú¨È¢úËâ≤„ÄÅÂ≠óÂè∑„ÄÅÂ≠ó‰ΩìÁ≤óÁªÜ„ÄÇ
      config.picker_disappearTextStylee = ; //ËÆæÁΩÆÊâÄÊúâÈÄâÈ°π‰∏≠ÊúÄ‰∏äÂíåÊúÄ‰∏ã‰∏§‰∏™ÈÄâÈ°πÁöÑÊñáÊú¨È¢úËâ≤„ÄÅÂ≠óÂè∑„ÄÅÂ≠ó‰ΩìÁ≤óÁªÜ„ÄÇ
      config.picker_divider: DividerOptions = { strokeWidth: '2px', startMargin: 0, endMargin: 0, color: '#33000000' }; //ËÆæÁΩÆÂàÜÂâ≤Á∫øÊ†∑ÂºèÔºå‰∏çËÆæÁΩÆËØ•Â±ûÊÄßÂàôÊåâ‚ÄúÈªòËÆ§ÂÄº‚ÄùÂ±ïÁ§∫ÂàÜÂâ≤Á∫ø„ÄÇ
      config.picker_canLoop: boolean = true; //ËÆæÁΩÆÊòØÂê¶ÂèØÂæ™ÁéØÊªöÂä®„ÄÇ
      config.picker_titleFontColor = $r("sys.color.ohos_id_picker_title_text_color"); //ÂºπÊ°ÜÊ†áÈ¢òÁöÑÂ≠ó‰ΩìÈ¢úËâ≤„ÄÇ
      config.picker_titleBackground = "#F9F9F9"; //Â§¥ÈÉ®ËÉåÊôØÈ¢úËâ≤
      config.picker_buttonFontColor = $r("sys.color.ohos_id_picker_button_text_color"); //ÊåâÈíÆÈ¢úËâ≤

      config.toast_duration = 2000; //ÊòæÁ§∫Êó∂Èïø(1500ms-10000ms)
      config.toast_durationLong = 10000; //ÊòæÁ§∫Êó∂Èïø(10000ms)
      config.toast_fontSize = 16; //ÊñáÂ≠óÂ§ßÂ∞è
      config.toast_fontColor = Color.White; //ÊñáÂ≠óÈ¢úËâ≤
      config.toast_backgroundColor = '#CC000000'; //ËÉåÊôØÈ¢úËâ≤ÔºåÂª∫ËÆÆÂÖ´‰ΩçËâ≤ÂÄºÂâç‰∏§‰Ωç‰∏∫ÈÄèÊòéÂ∫¶
      config.toast_borderRadius = 8; //ËÉåÊôØÂúÜËßí
      config.toast_padding = { left: 16, right: 16, top: 12, bottom: 12 }; //Padding
      config.toast_orientation = Orientation.VERTICAL; //ÂêêÂè∏Â∏ÉÂ±ÄÊñπÂêëÔºåÈªòËÆ§ÂûÇÁõ¥„ÄÇËÆæÁΩÆËØ•ÂÄºÊó∂ÔºåËØ∑ÈáçÊñ∞ËÆæÁΩÆimageSizeÂíåmargin„ÄÇ
      config.toast_imageSize = { width: 45, height: 45 }; //TipÂõæÁâáÂ∞∫ÂØ∏„ÄÇÂûÇÁõ¥ÈªòËÆ§ÂÄºÔºö45*45vpÔºåÊ∞¥Âπ≥Âª∫ËÆÆÂÄºÔºö24*24vp„ÄÇ
      config.toast_margin = 10; //ÂêêÂè∏ÁöÑÂõæÁâá‰∏éÊñáÂ≠óÈó¥Ë∑ù„ÄÇ
    });
 ```

 ```
    //Âú®Â≠êÁ™óÂè£ ‰ΩøÁî®ÂºπÊ°ÜÈúÄË¶Å‰º†ÂÖ•uiContext
    DialogHelper.showTipsDialog({
      uiContext:this.getUIContext(), //Â≠êÁ™óÂè£ÈúÄË¶Å‰º†ÂÖ•UIContext
      content: 'ÊÉ≥Ë¶ÅÂç∏ËΩΩËøô‰∏™APPÂòõ?',
      onAction: (action) => {
        ToastUtil.showToast(`${action}`);
      }
    })
 ```

 ```
    //Êìç‰ΩúÁ°ÆËÆ§Á±ªÂºπÂá∫Ê°Ü
    DialogHelper.showAlertDialog({
      content: "Á°ÆÂÆö‰øùÂ≠òËØ•WPSÊñá‰ª∂ÂêóÔºü",
      onAction: (action) => {
        if (action == DialogAction.CANCEL) {
          ToastUtil.showToast(`ÊÇ®ÁÇπÂáª‰∫ÜÂèñÊ∂àÊåâÈíÆ`);
        } else if (action == DialogAction.SURE) {
          ToastUtil.showToast(`ÊÇ®ÁÇπÂáª‰∫ÜÁ°ÆËÆ§ÊåâÈíÆ`);
        }
      }
    })
    

    //‰ø°ÊÅØÁ°ÆËÆ§Á±ªÂºπÂá∫Ê°Ü
    DialogHelper.showConfirmDialog({
      checkTips: "ÊòØÂê¶ËÆ∞‰ΩèÂØÜÁ†ÅÔºü",
      content: "ÊÇ®ÊòØÂê¶ÈÄÄÂá∫ÂΩìÂâçÂ∫îÁî®",
      onCheckedChange: (check) => {
        ToastUtil.showToast(`${check}`);
      },
      onAction: (action) => {
        ToastUtil.showToast(`${action}`);
      }
    })
    
    
    //ÊèêÁ§∫ÂºπÂá∫Ê°Ü
    DialogHelper.showTipsDialog({
      content: 'ÊÉ≥Ë¶ÅÂç∏ËΩΩËøô‰∏™APPÂòõ?',
      onAction: (action) => {
        ToastUtil.showToast(`${action}`);
      }
    })
    
    
    //ÈÄâÊã©Á±ªÂºπÂá∫Ê°Ü
    DialogHelper.showSelectDialog({
      radioContent: ["ÊñáÊú¨ËèúÂçïÈÄâÈ°π‰∏Ä", "ÊñáÊú¨ËèúÂçïÈÄâÈ°π‰∫å", "ÊñáÊú¨ËèúÂçïÈÄâÈ°π‰∏â", "ÊñáÊú¨ËèúÂçïÈÄâÈ°πÂõõ", "ÊñáÊú¨ËèúÂçïÈÄâÈ°π‰∫î"],
      onCheckedChanged: (index) => {
        ToastUtil.showToast(`${index}`);
      },
      onAction: (action, dialogId, value) => {
        ToastUtil.showToast(`${action} --- ${value}`);
      }
    })
 ```

 ```
    //ÂçïË°åÊñáÊú¨ËæìÂÖ•ÂºπÂá∫Ê°Ü
    DialogHelper.showTextInputDialog({
      text: this.inputText,
      onChange: (text) => {
        console.error("onChange: " + text);
      },
      onAction: (action, dialogId, content) => {
        if (action == DialogAction.SURE) {
          this.inputText = content;
        }
      }
    })
    
    
    //Â§öË°åÊñáÊú¨ËæìÂÖ•ÂºπÂá∫Ê°Ü
    DialogHelper.showTextAreaDialog({
      text: this.inputText,
      onChange: (text) => {
        console.error("onChange: " + text);
      },
      onAction: (action, dialogId, content) => {
        if (action == DialogAction.SURE) {
          this.inputText = content;
        }
      }
    })
    
    
    //Ëá™ÂÆö‰πâÂÜÖÂÆπÂå∫ÂºπÂá∫Ê°Ü
    DialogHelper.showCustomContentDialog({
      contentBuilder: () => {
        this.customTextBuilder("ÊàëÊòØ‰∏Ä‰∏™Ëá™ÂÆö‰πâÂºπÊ°ÜÔºÅ")
      },
      onAction: (action) => {
        ToastUtil.showToast(`${action}`);
      }
    })
 ```

 ```
    //Âä®‰ΩúÈù¢Êùø
    DialogHelper.showBottomSheetDialog({
      title: "ËØ∑ÈÄâÊã©‰∏ä‰º†ÊñπÂºè",
      sheets: ["Áõ∏Êú∫", "Áõ∏ÂÜå", "Êñá‰ª∂ÁÆ°ÁêÜÂô®"],
      onAction: (index) => {
        ToastUtil.showToast(`ÊÇ®ÁÇπÂáª‰∫ÜÔºå${this.menuArray[index]}`);
      }
    })
    
    
    //Âä®‰ΩúÈù¢ÊùøÔºàIOSÈ£éÊ†ºÔºâ
    DialogHelper.showActionSheetDialog({
      title: "ËØ∑ÈÄâÊã©‰∏ä‰º†ÊñπÂºè",
      sheets: ["Áõ∏Êú∫", "Áõ∏ÂÜå", "Êñá‰ª∂ÁÆ°ÁêÜÂô®"],
      onAction: (index) => {
        ToastUtil.showToast(`ÊÇ®ÁÇπÂáª‰∫ÜÔºå${this.menuArray[index]}`);
      }
    })
 ```

 ```
    //ÈÄâÊã©Âô®ÂºπÊ°ÜÔºàTextPickerDialogÔºâ
    let areas = AreaHelper.getAreaSync();
    DialogHelper.showTextPickerDialog({
      title: "ËØ∑ÈÄâÊã©Êî∂Ë¥ßÂú∞ÂùÄ",
      range: areas,
      onAction: (action: number, dialogId: string, value: string | string[]) => {
        if (action == DialogAction.SURE) {
          ToastUtil.showToast(`Â∑≤ÈÄâÊã©Ôºö${value}`);
        }
      }
    })
 ```

 ```
    //Êó•ÊúüÈÄâÊã©Âô®ÂºπÊ°ÜÔºàDatePickerDialogÔºâ
    DialogHelper.showDatePickerDialog({
      dateType: DateType.YmdHm,
      onAction: (action: number, dialogId: string, date: Date): void => {
        if (action == DialogAction.SURE) {
          let dateStr = DateUtil.getFormatDateStr(date, "yyyy-MM-dd HH:mm");
          ToastUtil.showToast(`ÈÄâ‰∏≠Êó•ÊúüÔºö${dateStr}`);
          LogUtil.error(`ÈÄâ‰∏≠Êó•ÊúüÔºö${dateStr}`);
        }
      }
    })
 ```

 ```
    //ËøõÂ∫¶Âä†ËΩΩÁ±ªÂºπÂá∫Ê°Ü
    DialogHelper.showLoadingDialog({
      loadType: SpinType.spinP,
      loadColor: Color.White,
      loadSize: 70,
      backgroundColor: '#BB000000',
      content: "Âä†ËΩΩ‰∏≠‚Ä¶",
      fontSize: 18,
      padding: { top: 30, right: 50, bottom: 30, left: 50 },
      autoCancel: true
     })

    
    //ËøõÂ∫¶Êù°Âä†ËΩΩÂºπÊ°Ü
    DialogHelper.showLoadingProgress({ progress: this.progress })
 ```

 ```  
    //ÂêêÂè∏
    DialogHelper.showToast("ËøôÊòØ‰∏Ä‰∏™Ëá™ÂÆö‰πâÂêêÂè∏")
    DialogHelper.showToastLong("ËøôÊòØ‰∏Ä‰∏™Ëá™ÂÆö‰πâÁöÑÈïøÂêêÂè∏ÂëÄ")
    
    
    //ÂêêÂè∏Tip
    DialogHelper.showToastTip({
      message: "Êìç‰ΩúÊàêÂäü",
      imageRes: $r('sys.media.ohos_ic_public_ok')
    })
 ```

 ```
   //Ëá™ÂÆö‰πâÂºπÁ™ó
    let drawer: DrawerOptions = {
      width: 260,
      msg: "ËøôÊòØ‰∏Ä‰∏™Ëá™ÂÆö‰πâÂºπÊ°ÜÔºåDrawerLayout",
      alignment: DialogAlignment.CenterStart,
      offset: { dx: 0, dy: 0 },
      transition: AnimationHelper.transitionInLeft(250)
    }
    DialogHelper.showCustomDialog(wrapBuilder(DrawerBuilder), drawer)
 ```

## üçéCommunication and communication üôè

Any problems found during use can be asked[Issue](https://gitee.com/tongyuyan/harmony-utils/issues)Give us;
Of course, we also welcome you to send us a message[PR](https://gitee.com/tongyuyan/harmony-utils/pulls) „ÄÇ

[https://gitee.com/tongyuyan/harmony-utils](https://gitee.com/tongyuyan/harmony-utils)   
[https://github.com/787107497](https://github.com/787107497)


## üåèOpen Source Protocol

This project is based on[Apache License 2.0](https://www.apache.org/licenses/LICENSE-2.0.html), when copying and borrowing codes, please be sure to indicate the source.
